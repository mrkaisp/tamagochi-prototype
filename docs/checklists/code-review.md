## 共通/前提
- [ ] 論理解像度 128×128 に収まる座標系を定義している（描画は 0..127 にクランプ）
- [ ] 物理解像度拡大（例: 512×512）が論理解像度計算に影響しない
- [ ] 入力デバイス割当（1キー(左)/2キー(中央)/3キー(右)が定数で一元管理されている

## 1. 画面フロー/ナビゲーション
- [ ] 1,2,3キー以外のボタン操作が定義されていない
- [ ] タイトル→種の選択（決定: 中央/2）遷移が実装されている
- [ ] 種の選択→時間設定（任意の種を選び決定）遷移が実装されている
- [ ] 時間設定→メイン（時刻設定後に決定）遷移が実装されている
- [ ] メイン→設定（左/1）/ステータス（右/3）遷移が実装されている
- [ ] 設定画面から「時間設定」へ遷移できる
- [ ] 設定画面の「やりなおし」でセーブ初期化→タイトルへ戻る
- [ ] メイン→各モード（06〜08 相当）へ遷移し、終了後メイン復帰する
- [ ] 自動イベント：成長タイマー到達で花言葉選択へ自動遷移→回答後メイン復帰
- [ ] 自動イベント：栄養=0 または寿命到達で死亡/ニューゲームへ→決定でタイトルへ

## 2. UI/解像度・入出力
- [ ] 全UI/テキスト/キャラ描画の座標が 0..127 範囲内でガードされる
- [ ] 入力 1=左, 2=中央, 3=右 のマッピングが仕様通りで重複/逆転がない
- [ ] 入力ハンドラはフレーム落ち/連打でも安定（デバウンスまたは状態機械）

## 3. 状態パラメータ（栄養/環境/光/言葉/年齢）
- [ ] 初期化：栄養0, 環境0, 光50, 言葉0, 年齢0 をセット
- [ ] すべての値が定義レンジにクランプ（0〜100 もしくは片側加算）
- [ ] 栄養：水やり/肥料で加算。しきい値以上で成長速度に正影響
- [ ] 栄養：栄養<20 で表情がしょんぼりに切り替わる
- [ ] 環境：雑草/害虫除去ミニゲームで上昇。低値で進行阻害/進捗低下演出
- [ ] 光：ON/OFF で蓄積変動。閾値50を境に陰/陽傾向が更新
- [ ] 言葉（メンタル）：すき/きらい入力で変動。高いほど王道寄りに寄与
- [ ] 年齢：時間経過/早送りで増加し、成長トリガーに用いられる

## 4. 制約・例外ルール
- [ ] 1時間内の連続栄養行為：同一時間で3回目以降は効果無効（数値/演出で明示）
- [ ] 睡眠時間帯：光モード/ミニゲーム入力は無効化 or 実行不可メッセージ表示
- [ ] 花言葉選択/死亡画面は自動遷移のみで到達（手動遷移経路なし）
- [ ] 「やりなおし」でセーブデータ削除・初期化後にタイトルへ戻る

## 5. 成長フェーズ分岐ロジック
- [ ] 分岐は「重み付け→最大スコア採択→同点は乱択」の実装になっている
- [ ] フェーズ1（種→芽）：光49/50の境界で分岐が切り替わる（陰/陽）
- [ ] フェーズ2（芽→茎）：総合スコア帯
  - [ ] 70〜100: まっすぐ
  - [ ] 40〜69: しなる
  - [ ] 0〜39: つる
  - [ ] その他: ふつう
  - [ ] メンタル70+で王道寄りにバイアスされる
- [ ] フェーズ3（茎→蕾）：種×芽×茎と光傾向で形（まるまる/大輪/ひらひら/ちいさめ/とがり/ふつう）決定
- [ ] フェーズ4（蕾→花）：年齢到達 + 栄養/光/精神で最終進化し、完了時に花言葉選択へ自動遷移→回答後メイン復帰

## 6. ステータス表示
- [ ] ステータス画面に 栄養/環境/光/メンタル/年齢 が想定レンジで表示
- [ ] 内部値と表示値にズレがない（丸め/クランプ/単位変換の整合）

## 7. キャラクター（種）選択の反映
- [ ] 03_キャラクター.md に基づく遺伝因子・性格・タイプが分岐重みに加点方式で反映
- [ ] 種の選択がセーブ/ロードで持続し、分岐ロジックで参照される

## 8. 早送り/一時停止（時間設定画面）
- [ ] 早送りで年齢・パラメータ変化が高速化される（制約・上限は維持）
- [ ] 一時停止で時間依存イベント（成長/自動遷移）が停止する
- [ ] 早送り/一時停止の切替に競合がない（状態遷移の整合）

## 9. 乱択の再現性
- [ ] 同点時のランダム採択はシード固定で再現可能
- [ ] シード変更で結果が変化することを確認できる API/設定がある
- [ ] 乱数源が一元管理され、テスト時に注入/固定可能

## 10. データ/セーブ
- [ ] セーブ初期化（やりなおし）は全関連データを消去し、バージョン互換に配慮
- [ ] セーブ/ロード時に破損対策（検証/デフォルト補正）を実装

## 11. エラーハンドリング/堅牢性
- [ ] 入力無効時や睡眠中の操作で明確なフィードバックがある
- [ ] 時間・境界値（49/50, 69/70, 19/20, 2/3回）のオフバイワン対策
- [ ] すべてのしきい値は定数化されテストしやすい構造
- [ ] 状態更新は副作用の順序が明確（同フレーム内の評価順が定義済み）

## 12. テスト容易性（仕様トレーサビリティ）
- [ ] 各テストケースに対応するコード上の責務/関数/状態が特定可能
- [ ] 時間経過/シード/睡眠帯/早送りを制御できるテストフックがある
- [ ] 表情/演出など UI 依存の検証に観測可能な状態 or ログが用意されている

## 13. パフォーマンス/フレーム安定
- [ ] 早送り時もフレーム時間内に更新処理が収まる
- [ ] ミニゲームや自動遷移中の不要描画/更新が抑制されている

## 14. コード構造/可読性（仕様準拠の観点のみ）
- [ ] 画面遷移は状態機械/ルーターで一元化、手動到達禁止画面にガードあり
- [ ] パラメータ更新はドメイン層に集約し、UI から直接改変しない
- [ ] 境界値/重み/しきい値は定数群に定義し、同値重複がない
- [ ] 乱数・時間の依存は抽象化し、テストで差し替え可能

## 15. ログ/デバッグ（任意）
- [ ] 成長分岐の入力/スコア/採択結果をトレース出力できる
- [ ] 自動遷移トリガー（成長/寿命/栄養ゼロ）を識別できるログがある